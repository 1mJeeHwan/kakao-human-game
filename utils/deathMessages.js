/**
 * 직업별 사망 메시지 및 파괴 지원금 메시지
 * 각 직업에 맞는 재미있는/현실적인 사망 원인
 */

// 공통 사망 메시지 (모든 직업에서 낮은 확률로 발생)
const COMMON_DEATH_MESSAGES = [
  // 일상적 사고
  '바나나 껍질에 미끄러져 사망...',
  '벼락에 맞아 사망...',
  '운석에 맞아 사망...',
  '자판기에 깔려 사망...',
  '비둘기 떼의 습격으로 사망...',

  // 황당한 사고
  '웃다가 숨이 막혀 사망...',
  '재채기를 너무 세게 해서 사망...',
  '딸꾹질이 멈추지 않아 사망...',
  '꿈에서 떨어지다 진짜로 사망...',
  '거울을 깨뜨려 불운 7년 후 사망...',

  // 현대적 사망
  '핸드폰 보다가 맨홀에 빠져 사망...',
  '와이파이 끊김 충격으로 사망...',
  '배터리 0%에 심장도 멈춤...',
  'SNS 좋아요 0개에 충격사...',
  '읽씹당하고 멘탈붕괴사...',

  // 음식 관련
  '라면 국물에 화상을 입어 사망...',
  '떡볶이 떡에 목이 막혀 사망...',
  '뜨거운 팥붕을 급하게 먹다 사망...',
  '매운 음식 도전하다 사망...',
  '치킨 뼈가 목에 걸려 사망...',

  // 기타 황당
  '유령을 보고 놀라 심장마비...',
  '외계인 납치 후 반환되지 않음...',
  '타임머신 오작동으로 시간에 갇힘...',
  '평행세계로 빨려들어감...',
  '저주받은 편지를 읽고 사망...'
];

// 직업별 사망 메시지
const JOB_DEATH_MESSAGES = {
  // ========== 일반직 (Common) ==========
  '회사원': [
    '야근 중 과로사로 사망했습니다...',
    '상사의 갑질을 견디다 정신이 나가버렸습니다...',
    '회식 후 음주운전 택시에 치였습니다...',
    '엘리베이터가 고장나 20층에서 추락했습니다...',
    '월요병이 실제 병이 되어버렸습니다...',
    '보고서 수정 47번째에 손목이 나갔습니다...',
    '성과급 0원 통보에 심장마비...',
    '동기가 먼저 승진하는 것을 보고 분노사...',
    '연차 반려당하고 충격사...',
    '"이거 급한 건데" 문자를 보고 사망...'
  ],
  '공무원': [
    '민원인의 난동에 정신적 충격사...',
    '서류더미에 깔려 질식사했습니다...',
    '정년까지 버티다 지쳐 쓰러졌습니다...',
    '감사에 걸려 스트레스로 사망...',
    '예산 삭감 소식에 심장마비...',
    '공무원 시험 경쟁률을 보고 사후 충격사...',
    '국민신문고 민원 999건에 과로사...',
    '공무원연금 개편 소식에 절망사...',
    '업무 인계 없이 전임자가 퇴직해 사망...',
    '결재라인 7단계를 거치다 수명 다함...'
  ],
  '알바생': [
    '진상 손님의 컵 투척에 사망...',
    '최저시급 인상 무산 소식에 절망사...',
    '무한 서빙 중 과로사...',
    '사장님의 "야 임마"에 심장마비...',
    '월급이 통장을 스쳐지나가는 것을 보고 사망...',
    '주휴수당 삭제 통보에 충격사...',
    '"오늘 바쁜데 나올 수 있어?" 문자에 사망...',
    '손님의 "사장 불러와"에 멘탈붕괴...',
    '마감 직전 단체 손님 20명 입장에 사망...',
    '시급 계산해보니 적자라 사망...'
  ],
  '백수': [
    '부모님의 잔소리에 귀가 닳아 사망...',
    '취업 실패 100회 달성 후 우울사...',
    '방에서 굶어 죽었습니다...',
    '게임하다가 돌연사...',
    '이력서 쓰다가 손목이 나가버렸습니다...',
    '"넌 뭐가 되고 싶니?" 질문에 사망...',
    '친구들 인스타 보다가 열등감사...',
    '부모님 한숨소리에 심장이 멎음...',
    '"집에서 뭐하니?" 카톡에 충격사...',
    '통장 잔고 0원 확인 후 사망...'
  ],
  '학생': [
    '시험 성적표를 보고 심장마비...',
    '과제 마감에 쫓기다 돌연사...',
    '급식 체해서 사망...',
    '선생님의 분필 투척에 사망...',
    '수능 성적표를 받고 그 자리에서...',
    'F학점 5개 연속에 자퇴 후 사망...',
    '조별과제 무임승차 당하고 분노사...',
    '졸업작품 하드 날아가서 사망...',
    '"다음 주 시험이에요" 공지에 돌연사...',
    '학자금 대출 이자 보고 사망...'
  ],
  '농부': [
    '트랙터에 깔려 사망...',
    '농약 중독으로 사망...',
    '폭염에 쓰러져 열사병 사망...',
    '멧돼지 습격에 사망...',
    '태풍에 날아가버렸습니다...',
    '올해도 풍년인데 가격폭락으로 사망...',
    '농작물 전부 병충해 걸려 절망사...',
    '관개수로가 막혀 흉년으로 사망...',
    '새들이 씨앗 다 먹어버려 사망...',
    'FTA 소식에 심장마비...'
  ],
  '상인': [
    '떨이 장사하다 파산해서 사망...',
    '도둑맞고 충격사...',
    '가게가 망해서 우울사...',
    '손님과 싸우다 사망...',
    '임대료 폭탄에 심장마비...',
    '대형마트가 들어와서 절망사...',
    '온라인쇼핑에 밀려 사망...',
    '재고 떠안고 자금압박사...',
    '"깎아주세요" 연속 20번에 분노사...',
    '카드 수수료 청구서 보고 사망...'
  ],
  '운전기사': [
    '졸음운전으로 사망...',
    '블랙박스 영상 속 진실과 함께 사망...',
    '네비 오류로 절벽에서 추락...',
    '손님의 "여기서 내려주세요"에 급정거하다 사망...',
    '기름값 폭등 소식에 심장마비...',
    '"빨리 좀 가요" 연속 콤보에 분노사...',
    '목적지 100m 앞에서 막혀 스트레스사...',
    '손님이 토하고 내려서 충격사...',
    '주차 시비 붙다 사망...',
    '배차 앱 알림 999개에 과로사...'
  ],
  '청소부': [
    '쓰레기 더미에 파묻혀 사망...',
    '청소하던 중 미끄러져 낙상사...',
    '유해 폐기물에 노출되어 사망...',
    '새벽 근무 중 졸음 사고로 사망...',
    '세제 혼합 중독으로 사망...',
    '고층 외벽 청소 중 추락사...',
    '쓰레기 분리하다 날카로운 것에 찔림...',
    '무거운 쓰레기통 들다 허리 나감...',
    '폭염에 작업하다 열사병 사망...',
    '악취에 기절 후 사망...'
  ],
  '경비원': [
    '야간 근무 중 심장마비...',
    '불량배와 싸우다 사망...',
    '감시 카메라 보다 눈이 나가버림...',
    '순찰 중 계단에서 굴러 사망...',
    '택배 분쟁 말리다 사망...',
    '주민 컴플레인 999건에 과로사...',
    '"경비실 불 켜놔요" 민원에 분노사...',
    '난방비 절약하다 동사...',
    '주차 시비 말리다 치임...',
    '새벽 4시 귀가 주민에게 깨져 사망...'
  ],
  '배달원': [
    '배달 시간 맞추다 교통사고 사망...',
    '폭우 속 배달 중 감전사...',
    '엘리베이터 없는 10층 배달 후 과로사...',
    '배달 음식 쏟아져 손님에게 맞아 사망...',
    '수수료 90% 공제 통보에 절망사...',
    '"문 앞에요" 했는데 2시간 못 찾음...',
    '배달 평점 1점에 충격사...',
    '현금 없는 현금 결제 건에 사망...',
    '치킨 냄새 맡다가 굶어 죽음...',
    '30분 보장 실패 패널티에 파산사...'
  ],
  '점원': [
    '재고 정리하다 선반에 깔려 사망...',
    '진상 고객 응대 중 정신붕괴...',
    '"사장 불러" 연속 3회에 분노사...',
    '계산대에서 8시간 서있다 쓰러짐...',
    '할인 쿠폰 안 된다고 했다가 봉변...',
    '"이거 얼마예요?" 1000번째에 사망...',
    '만원 지폐 위조 걸려서 사망...',
    '교환/환불 민원 폭주에 과로사...',
    '카드기 고장나서 줄 999명에 사망...',
    '"담배 그거 있잖아 그거" 20분째...'
  ],

  // ========== 고급 (Uncommon) ==========
  '요리사': [
    '칼에 베여 과다출혈로 사망...',
    '가스 폭발로 사망...',
    '본인이 만든 요리를 먹고 식중독 사망...',
    '기름에 튀겨져 사망...',
    '미슐랭 별 박탈 소식에 자살...',
    '백종원이 "맛이 없다" 해서 충격사...',
    '냉장고 안에 갇혀 동사...',
    '칼갈이 하다 손가락이...',
    '주방 온도 50도에 열사병 사망...',
    '음식 리뷰 별점 1점에 사망...'
  ],
  '개발자': [
    '버그 수정하다 머리가 터져 사망...',
    '야근 999일차에 과로사...',
    '코드 리뷰 결과를 보고 심장마비...',
    '"이거 금방 되죠?" 한마디에 분노사...',
    '배포 직후 서버가 터지는 것을 보고 사망...',
    'git conflict 999개에 사망...',
    '프로덕션에서 rm -rf 실행 후 사망...',
    'Stack Overflow 다운되어 개발 못해 사망...',
    '"사양 변경이요" 100번째에 분노사...',
    '코딩테스트 0솔에 절망사...'
  ],
  '디자이너': [
    '"이거 좀 더 팝하게"라는 피드백에 사망...',
    '수정 47차에 정신이 나가버렸습니다...',
    '색맹 판정을 받고 절망사...',
    'AI가 그림을 더 잘 그린다는 소식에 사망...',
    '시안 전부 반려당하고 사망...',
    '"처음 거로 해주세요" 한마디에 분노사...',
    '포토샵 저장 안 하고 날아가서 사망...',
    '폰트 저작권 소송에 파산사...',
    '"좀 더 있어보이게" 피드백에 사망...',
    '클라이언트의 무한 수정에 과로사...'
  ],
  '건축가': [
    '본인이 설계한 건물이 무너져 사망...',
    '현장에서 벽돌에 맞아 사망...',
    '도면 수정 1000번째에 과로사...',
    '갑의 "처음부터 다시"에 심장마비...',
    '불법 건축 적발로 구속되다 사망...',
    '내진설계 빼달라는 요청에 분노사...',
    'CAD 파일 손상으로 3개월치 날아감...',
    '건축허가 불허에 절망사...',
    '시공사가 도면 무시하고 지어서 사망...',
    '인허가 서류만 10kg에 손목 나감...'
  ],
  '가수': [
    '고음 내다가 목이 터져 사망...',
    '안티팬의 악플에 우울사...',
    '립싱크 들켜서 충격사...',
    '음반 판매량 0장에 절망사...',
    '음이탈하다 무대에서 추락사...',
    '팬미팅 참석자 0명에 충격사...',
    '음원 순위 999위에 절망사...',
    '댄스 연습 중 무릎 나가서 은퇴사...',
    '콘서트 티켓 환불 요청 폭주에 사망...',
    'AI 커버가 본인보다 나아서 충격사...'
  ],
  '배우': [
    '액션신 촬영 중 사고사...',
    '출연료 떼먹히고 분노사...',
    'NG 50번째에 감독에게 맞아 사망...',
    '캐스팅에서 계속 탈락해 우울사...',
    '열애설 터지고 기획사에 의해 매장...',
    '시청률 0.1%에 조기종영 후 사망...',
    '악역만 맡다가 실제로 미움받아 사망...',
    '광고 계약 해지 통보에 파산사...',
    '후배한테 밀려 조연으로 강등 후 사망...',
    '드라마 결방 통보에 충격사...'
  ],
  '화가': [
    '그림이 안 팔려서 굶어 죽음...',
    '물감을 먹고 중독사...',
    'AI 그림에 밀려 절망사...',
    '작품이 휴지통으로 들어가는 것을 보고 사망...',
    '색을 섞다가 정신이 나가버렸습니다...',
    '전시회 관람객 0명에 우울사...',
    '작품 가격 100원 책정에 분노사...',
    '미술관에서 전시 거부당해 사망...',
    'NFT로 팔았는데 마켓 망해서 사망...',
    '표절 의혹에 휘말려 충격사...'
  ],
  '운동선수': [
    '부상으로 은퇴 후 우울사...',
    '도핑 적발로 자격 박탈 후 사망...',
    '경기 중 심장마비...',
    '체중 감량 실패로 사망...',
    '후배에게 밀려나 은퇴하고 사망...',
    '올림픽 탈락 후 절망사...',
    '스폰서 계약 해지에 파산사...',
    '판정 시비에 분노사...',
    '갈비뼈 부상 경기 출전 후 악화...',
    '은퇴 후 살이 100kg 쪄서 건강 악화...'
  ],
  '전사': [
    '몬스터에게 처참히 찢겨 사망...',
    '칼날에 베여 과다출혈 사망...',
    '적의 기습에 사망...',
    '함정에 빠져 사망...',
    '레벨 차이 극복 못하고 사망...',
    '방어구 내구도 0이 된 줄 모르고 사망...',
    '물약 떨어진 상태로 보스전 돌입...',
    '탱커인데 힐러가 도망가서 사망...',
    '파티원 전멸 후 혼자 남아 사망...',
    '무기가 부러지면서 전투불능...'
  ],
  '궁수': [
    '본인 화살에 맞아 사망...',
    '활시위가 끊어져 눈에 맞아 사망...',
    '접근전에서 처참히 사망...',
    '화살이 떨어져서 사망...',
    '조준 실패로 아군에게 맞아 사망...',
    '바람 방향 잘못 읽어서 자폭...',
    '독화살 독이 본인에게 튀어서 사망...',
    '적이 화살 맞고도 안 쓰러져서 역습당함...',
    '활 손잡이 부러지면서 탄성에 맞아 사망...',
    '몬스터 무리 중앙에서 화살 장전 실패...'
  ],
  '사진작가': [
    '폭포 앞에서 찍다가 빠져 사망...',
    '호랑이 사진 찍다가 물려 사망...',
    '절벽에서 풍경 찍다가 추락...',
    '카메라 플래시에 맹수가 습격...',
    '전쟁터 사진 찍다가 총에 맞아 사망...',
    '사진 날아가고 충격사...',
    '파파라치 하다가 보복당해 사망...',
    '비 오는 날 야외 촬영하다 감전사...',
    '무거운 장비 메고 산악 촬영하다 쓰러짐...',
    '인스타 좋아요 0개에 절망사...'
  ],
  '작가': [
    '마감에 쫓기다 과로사...',
    '독자 악플에 우울사...',
    '출판사 연락두절에 충격사...',
    '표절 의혹에 휘말려 사망...',
    '책 판매량 10권에 절망사...',
    '연재 중단 통보에 분노사...',
    '아이디어 고갈로 정신붕괴...',
    '원고료 미지급에 굶어 죽음...',
    '담당 편집자 퇴사에 절망사...',
    'AI가 소설 쓴다는 소식에 사망...'
  ],
  '유튜버': [
    '조회수 3회에 충격사...',
    '구독자 해지 알림 999개에 사망...',
    '저작권 스트라이크 3개에 계정 정지 후 사망...',
    '악성 댓글 1만 개에 우울사...',
    '협찬 계약 해지에 파산사...',
    '뒷광고 논란에 구독자 전부 이탈...',
    '편집하다 영상 날아가서 사망...',
    '얼굴 공개했다가 인생 망해서 사망...',
    '다른 유튜버 디스했다가 역풍맞아 사망...',
    '광고 단가 0.1원에 절망사...'
  ],
  '스트리머': [
    '시청자 0명에 충격사...',
    '도네이션 환불 요청에 파산사...',
    '24시간 방송하다 과로사...',
    '게임에서 1000연패에 분노사...',
    '트롤에게 시달리다 정신붕괴...',
    '방송 사고로 개인정보 유출 후 사망...',
    '핵 의혹에 휘말려 은퇴 후 우울사...',
    '팬 미팅 참석자 0명에 충격사...',
    '스트리밍 플랫폼 망해서 수익 0원...',
    '방송 중 욕해서 정지 후 사망...'
  ],

  // ========== 희귀 (Rare) ==========
  '의사': [
    '환자 보호자에게 폭행당해 사망...',
    '수술 중 메스에 베여 감염사...',
    '36시간 당직 중 과로사...',
    '의료사고 소송에 시달리다 우울사...',
    '전염병에 감염되어 사망...',
    '수술 성공했는데 보호자가 난동...',
    '응급실에서 3일째 퇴근 못하고 사망...',
    '전공의 파업 중 혼자 일하다 과로사...',
    '의료 분쟁 조정 결과에 분노사...',
    '환자가 처방 안 지키고 악화되어 고소당함...'
  ],
  '변호사': [
    '의뢰인에게 배신당해 충격사...',
    '패소 100연패 후 자존감 사망...',
    '상대 변호사에게 논파당해 분노사...',
    '착수금 떼먹히고 파산해서 사망...',
    '법정에서 판사에게 모욕당해 사망...',
    '변론 중 증거 조작 들켜서 자격 박탈...',
    '의뢰인이 범인이었다는 충격에 사망...',
    '로스쿨 학자금 대출에 평생 시달리다 사망...',
    '무변론 판결에 충격사...',
    '대형 로펌에서 막내 갈림에 우울사...'
  ],
  '교수': [
    '학생들의 강의평가를 보고 심장마비...',
    '논문 표절 의혹에 자살...',
    '연구비 삭감에 분노사...',
    '텐트 시위하는 학생에게 밟혀 사망...',
    '정년 탈락하고 우울사...',
    '제자가 더 유명해져서 질투사...',
    '학회에서 질문 공격에 멘탈붕괴...',
    '논문 리젝 10연속에 사망...',
    '강의실 빔프로젝터 고장에 수업 망해서 사망...',
    '석박사 지도학생 전원 자퇴에 충격사...'
  ],
  '연구원': [
    '실험 폭발로 사망...',
    '독성 물질에 노출되어 사망...',
    '연구 결과가 조작으로 밝혀져 자살...',
    '연구비 횡령 혐의로 구속되다 사망...',
    '밤샘 연구 중 과로사...',
    '선행 연구에 똑같은 게 있어서 절망사...',
    '실험 쥐에게 물려 감염사...',
    '연구소 폐쇄에 실직사...',
    '데이터 하드 고장에 5년 연구 날아감...',
    '논문 게재료 청구서 보고 파산사...'
  ],
  '마법사': [
    '마법이 역류해서 폭발사...',
    '마나가 고갈되어 사망...',
    '주문을 잘못 외워 자폭...',
    '금지된 마법을 사용하다 저주받아 사망...',
    '지팡이가 부러지며 폭발...',
    '마법진 한 획 잘못 그려서 악마 소환...',
    '마력 제어 실패로 주변 초토화...',
    '마법 대결에서 참패 후 마력 봉인당함...',
    '마법 학교 졸업 못하고 퇴학사...',
    '마법약 잘못 섞어서 개구리로 변함...'
  ],
  '기사': [
    '낙마해서 사망...',
    '갑옷이 너무 무거워 물에 빠져 사망...',
    '드래곤 불에 타서 사망...',
    '반역 혐의로 처형당함...',
    '토너먼트에서 창에 찔려 사망...',
    '왕명 불복종으로 참수형...',
    '갑옷 벗는 중 적습을 받아 사망...',
    '말이 도망가서 걸어가다 매복당함...',
    '검 유지비 못 내서 녹슨 검으로 싸우다 사망...',
    '공주 구하러 갔다가 드래곤에게 구워짐...'
  ],
  '탐정': [
    '범인에게 들켜서 살해당함...',
    '미제 사건에 미쳐버림...',
    '함정에 빠져 사망...',
    '의뢰인이 범인이었다는 것을 알고 충격사...',
    '증거 인멸당하고 사망...',
    '추리 틀려서 무고한 사람 잡았다가 고소당함...',
    '몰래 사진 찍다가 들켜서 맞아 죽음...',
    '비밀 알게 됐다가 입막음 당함...',
    '의뢰비 못 받고 파산사...',
    '범인 잡았는데 증거불충분 무죄에 분노사...'
  ],
  '모험가': [
    '던전에서 실종...',
    '보물 함정에 걸려 사망...',
    '독화살에 맞아 사망...',
    '미지의 생물에게 잡아먹힘...',
    '절벽에서 추락사...',
    '미믹에게 손 물려서 사망...',
    '지도 잘못 보고 마왕성에 입장...',
    '파티 해체되고 혼자 던전 가다가 사망...',
    '보물 훔쳤다가 저주받아 사망...',
    '던전 함정 회피 실패 999연속...'
  ],
  '파일럿': [
    '비행 중 엔진 고장으로 추락...',
    '난기류에 휘말려 사망...',
    '착륙 실패로 사망...',
    '새 떼와 충돌해서 사망...',
    '연료 부족으로 불시착 중 사망...',
    '자동조종 믿다가 산에 충돌...',
    '기내식 먹고 식중독에 비행 중 쓰러짐...',
    '관제탑 지시 잘못 들어서 사고...',
    '부조종사와 다투다가 사망...',
    'UFO랑 충돌해서 사망...'
  ],
  '외교관': [
    '외교 분쟁 중 피습당해 사망...',
    '기밀 유출 혐의로 구속 후 사망...',
    '언어 실수로 전쟁 일으켜서 처형당함...',
    '독살당해 사망...',
    '쿠데타에 휘말려 사망...',
    '접대하다 과음으로 사망...',
    '통역 실수로 국제 망신당해 사망...',
    '스파이 의혹에 휘말려 사망...',
    '해외 발령지 풍토병에 걸려 사망...',
    '본국 소환 후 좌천당해 우울사...'
  ],
  '프로게이머': [
    '경기 중 손목이 나가서 은퇴사...',
    '패배 후 팬들 악플에 우울사...',
    '승부조작 의혹에 자격 정지 후 사망...',
    '24시간 연습하다 과로사...',
    '신예에게 밀려 은퇴 후 사망...',
    '결승전에서 버그로 패배 후 분노사...',
    '팀 해체 후 무소속 전전하다 사망...',
    '게임 서비스 종료에 절망사...',
    '스폰서 철수에 연봉 0원으로 사망...',
    '핑 999ms에 경기 져서 분노사...'
  ],
  '사업가': [
    '투자 실패로 파산 후 사망...',
    '주식 폭락에 심장마비...',
    '사기당해 전재산 날리고 사망...',
    '경쟁사에 밀려 도산 후 사망...',
    '횡령 혐의로 구속되다 사망...',
    '직원들 전부 퇴사에 충격사...',
    '거래처 먹튀에 자금압박사...',
    '세무조사 후 추징금 폭탄에 파산사...',
    '사업 확장하다 자금 고갈로 사망...',
    'IPO 실패에 투자자들에게 쫓겨 사망...'
  ],

  // ========== 전설 (Legendary) ==========
  '용사': [
    '마왕에게 패배해 사망...',
    '동료에게 배신당해 사망...',
    '저주받은 검에 잠식되어 사망...',
    '히로인을 구하다 사망...',
    '라스트 보스전에서 전멸...',
    '마왕 앞에서 세이브 안 해서 리셋...',
    '전설의 무기 조건 못 맞춰서 장착 불가...',
    '마왕 토벌 후 왕국에서 토사구팽 당함...',
    '마왕이 사실 좋은 놈이었다는 걸 알고 충격사...',
    '용사 검 뽑다가 허리 나감...'
  ],
  '대마법사': [
    '금지된 마법의 대가로 사망...',
    '마탑이 붕괴되어 사망...',
    '시공간이 찢어져 소멸...',
    '마력 폭주로 자폭...',
    '제자의 반란으로 살해당함...',
    '9서클 마법 시전하다 마나 역류...',
    '고대 마법 해독 잘못해서 저주받음...',
    '마탑장 경쟁에서 밀려 추방 후 사망...',
    '불멸 마법 실패로 오히려 수명 단축...',
    '소환한 악마에게 역으로 계약당함...'
  ],
  '연금술사': [
    '실험 폭발로 사망...',
    '독약을 잘못 마셔 사망...',
    '현자의 돌 실험 실패로 사망...',
    '금 만들다 수은 중독으로 사망...',
    '폭발하는 포션에 맞아 사망...',
    '불로불사약 만들다 역으로 급노화...',
    '변환 마법 실수로 본인이 납으로 변함...',
    '호문클루스가 반란 일으켜 사망...',
    '연금술사 길드에서 추방되어 재료 구하다 사망...',
    '왕에게 금 못 만들어서 처형당함...'
  ],
  '용병': [
    '계약 위반으로 처형당함...',
    '동료에게 뒷통수 맞고 사망...',
    '보수 협상 중 살해당함...',
    '전장에서 고용주에게 버림받아 사망...',
    '현상금 사냥꾼에게 사냥당함...',
    '양쪽 진영 다 적으로 만들어서 사망...',
    '고용주 배신했다가 업계 퇴출...',
    '용병단 내분으로 전멸...',
    '무기 수리비 못 내서 맨손으로 싸우다 사망...',
    '퇴직금 없이 10년 일하다 과로사...'
  ],
  '암살자': [
    '타겟에게 역습당해 사망...',
    '독이 역류해서 사망...',
    '동료 암살자에게 배신당해 사망...',
    '함정에 걸려 사망...',
    '암살 실패 후 고용주에게 처형당함...',
    '의뢰 대상이 사실 암살자 킬러였음...',
    '은신 실패로 발각되어 린치당함...',
    '독 면역인 타겟 만나서 당황하다 사망...',
    '암살자 길드에서 배신자 낙인찍혀 사냥당함...',
    '그림자 속에 숨다가 그냥 그림자가 됨...'
  ],
  '현자': [
    '지식의 무게를 견디지 못해 사망...',
    '예언이 틀려서 처형당함...',
    '금서를 읽다가 미쳐버림...',
    '제자에게 살해당함...',
    '수명을 다해 자연사...',
    '지식 독점하다가 군중에게 린치당함...',
    '모든 걸 알게 되어 삶의 의미를 잃고 사망...',
    '예언 적중시켰는데 미래 바뀌어서 사기 혐의...',
    '후계자 없이 지식 실전됨...',
    '현자의 탑 방문객 0명에 우울사...'
  ],
  '드래곤슬레이어': [
    '드래곤의 화염에 구워져 사망...',
    '드래곤 꼬리에 맞아 사망...',
    '드래곤 비늘을 못 뚫고 역습당함...',
    '드래곤이 날아가 버려서 허탈사...',
    '드래곤 잡았는데 보상금 안 줘서 분노사...',
    '드래곤 둥지 습격했다가 100마리에게 포위...',
    '드래곤 사냥감 없어서 실직사...',
    '환경보호 단체에 고발당해 사망...',
    '마지막 드래곤 잡고 나서 존재 의미 상실...',
    '아기 드래곤인 줄 알았는데 엄마 드래곤 등장...'
  ],
  '대부호': [
    '재산 전부 사기당해 파산사...',
    '상속 다툼에 휘말려 사망...',
    '주식 대폭락에 전재산 날리고 사망...',
    '납치당했다가 몸값 안 내서 사망...',
    '혁명으로 재산 몰수당하고 처형당함...',
    '자녀들 재산 싸움에 스트레스사...',
    '세금 추징금 폭탄에 파산사...',
    '사치품 중독으로 파산 후 사망...',
    '친구인 줄 알았던 사람들 전부 돈 때문이었음...',
    '재산 기부하고 나니 가진 게 없어서 사망...'
  ],

  // ========== 동물 (Animal) ==========
  '강아지': [
    '주인이 던진 공을 찾다 실종...',
    '고양이와의 싸움에서 패배...',
    '산책 중 차에 치일 뻔하다 충격사...',
    '목욕을 너무 싫어해서 스트레스사...',
    '간식이 떨어져서 굶어 죽음...',
    '꼬리 쫓다가 어지러워서 쓰러짐...',
    '수의사 가는 길에 공포사...',
    '주인의 양말 냄새에 기절...',
    '다른 개한테 밀려 관심 못 받아 우울사...',
    '진돗개가 아닌 줄 알고 충격사...'
  ],
  '고양이': [
    '높은 곳에서 떨어지다 착지 실패...',
    '레이저 포인터 쫓다가 탈진...',
    '참치캔이 열리지 않아 절망사...',
    '집사가 여행가서 방치사...',
    '옆집 고양이한테 영역 뺏김...',
    '키보드 위에서 자다가 집사한테 밀림...',
    '상자 들어갔다가 못 나옴...',
    '스크래처 안 사줘서 집 탈출 후 실종...',
    '츄르 끊겼다는 소식에 충격사...',
    '목욕당하고 배신감에 분노사...'
  ],
  '토끼': [
    '당근을 너무 많이 먹어 배탈...',
    '여우에게 쫓기다 심장마비...',
    '토끼굴이 무너져 사망...',
    '귀가 너무 커서 바람에 날아감...',
    '거북이한테 달리기에서 져서 충격사...',
    '발로 땅 치다가 발 나감...',
    '눈이 빨간 거 혈압 때문이라 사망...',
    '뛰다가 심장 무리와서 사망...',
    '이빨이 너무 길어져서 사망...',
    '부활절 달걀 배달하다 과로사...'
  ],
  '햄스터': [
    '쳇바퀴 타다 탈진사...',
    '볼주머니가 터질 뻔...',
    '탈출 시도하다 실패...',
    '해바라기씨 과다 섭취로 사망...',
    '주인한테 밟힐 뻔해서 충격사...',
    '케이지 청소 중 방치되어 우울사...',
    '겨울잠 들었다가 안 깨어남...',
    '다른 햄스터한테 영역 싸움에서 패배...',
    '너무 뚱뚱해져서 쳇바퀴 못 돌림...',
    '탈출 성공했는데 집 찾다 실종...'
  ],
  '펭귄': [
    '빙하가 녹아서 집 없어짐...',
    '물개에게 쫓기다 사망...',
    '남극에서 길 잃어 사망...',
    '알 품다가 동상 걸림...',
    '수영하다 바다표범에게 습격당함...',
    '눈폭풍에 무리 잃어버림...',
    '따뜻해지는 지구에 적응 못함...',
    '동물원에서 자유를 그리워하다 우울사...',
    '터프가이인 척하다 사실 추위에 떨다 사망...',
    '날 수 없다는 사실에 절망사...'
  ],
  '판다': [
    '대나무가 다 떨어져 굶어 죽음...',
    '나무에서 굴러떨어져 사망...',
    '번식 포기로 종족 멸망 위기...',
    '너무 귀여워서 납치당함...',
    '흰색 검은색 논쟁에 정체성 혼란...',
    '하루 16시간 먹는데도 영양실조...',
    '둥글게 굴러가다 낭떠러지에서 추락...',
    '중국으로 송환 통보에 충격사...',
    '다른 동물들 부러워하다 우울사...',
    '너무 게을러서 움직이다 과로사...'
  ],
  '여우': [
    '사냥꾼에게 쫓기다 사망...',
    '덫에 걸려 사망...',
    '구미호인 줄 알았는데 아니어서 충격사...',
    '꾀가 들통나서 사망...',
    '닭장 침입하다 농부에게 잡힘...',
    '신뢰를 잃어 숲에서 추방...',
    '포도 못 먹어서 영양실조...',
    '어린 왕자 만나러 갔다가 길 잃음...',
    '변신술 실패로 정체 들통...',
    '토끼보다 느려서 굶어 죽음...'
  ],
  '곰': [
    '동면에서 깨지 못함...',
    '꿀벌 떼에 쏘여 사망...',
    '사냥꾼에게 잡혀 사망...',
    '연어 잡다가 물에 빠져 사망...',
    '겨울 식량 못 모아서 굶어 죽음...',
    '곰 인형인 줄 알았던 인간에게 충격사...',
    '숲에서 길 잃고 마을로 내려왔다가 포획...',
    '다른 곰한테 영역 싸움에서 패배...',
    '푸우인 줄 알고 꿀 달라고 했다가 모욕당함...',
    '동물원 탈출했다가 다시 잡혀서 우울사...'
  ],
  '늑대': [
    '무리에서 쫓겨나 외로이 사망...',
    '사냥감을 찾지 못해 굶어 죽음...',
    '덫에 걸려 사망...',
    '양치기 개에게 패배...',
    '빨간 모자 할머니 집 잘못 들어감...',
    '달에 너무 오래 울어서 목이 나감...',
    '양떼 습격하다 농부에게 총 맞음...',
    '후배 늑대한테 알파 자리 뺏김...',
    '늑대인간인 줄 알았는데 그냥 늑대라 실망사...',
    '무리 찾으러 갔다가 길 잃어 사망...'
  ],
  '사자': [
    '영역 다툼에서 패배 후 추방...',
    '사냥에 실패해 굶어 죽음...',
    '밀렵꾼에게 잡혀 사망...',
    '하이에나 떼에게 습격당함...',
    '왕좌 뺏기고 방랑 중 사망...',
    '사자 아니고 암사자더라 하이에나한테...',
    '갈기 빠져서 매력 상실 후 우울사...',
    '동물원 우리가 너무 좁아서 스트레스사...',
    '라이온 킹 보고 왕 될 줄 알았는데 현실은...',
    '짝짓기 실패 100연속에 절망사...'
  ],
  '도마뱀': [
    '꼬리 재생 실패로 사망...',
    '햇볕 못 쬐어서 냉혈 유지 실패...',
    '포식자에게 잡아먹힘...',
    '탈피 중 사고로 사망...',
    '돌 아래 깔려 사망...',
    '파충류 혐오자에게 밟힘...',
    '테라리움 온도 조절 실패로 사망...',
    '곤충 잡으러 갔다가 새한테 잡힘...',
    '용이 되고 싶었지만 현실은...',
    '위장술 실패로 적에게 발각됨...'
  ]
};

// 기본 사망 메시지 (직업이 없거나 매칭 안될 때 + 공통 메시지 포함)
const DEFAULT_DEATH_MESSAGES = [
  '알 수 없는 이유로 사망했습니다...',
  '운명의 장난으로 사망했습니다...',
  '갑작스러운 사고로 사망했습니다...',
  '신의 부름을 받아 사망했습니다...',
  '이세계로 떠났습니다...',
  '하늘의 별이 되었습니다...',
  '다음 생을 기약합니다...',
  '역사 속으로 사라졌습니다...',
  '전설이 되어 떠났습니다...',
  '조용히 눈을 감았습니다...'
];

// 파괴 지원금 메시지 (환급률별)
const REFUND_MESSAGES = {
  0: [
    '💸 국세청: "지원금? 그런 거 없습니다."',
    '💸 보험사: "약관을 다시 읽어보세요~"',
    '💸 은행: "잔고가 부족합니다."',
    '💸 정부: "예산이 없습니다."',
    '💸 하늘: "운이 없었네요..."',
    '💸 보험사: "사망 원인이 약관에 없네요~"',
    '💸 담당자: "시스템 오류입니다."',
    '💸 AI: "지원금 계산 결과... 0원"'
  ],
  50: [
    '💰 보험사에서 기본 보상금이 나왔습니다!',
    '💰 정부 재난지원금이 도착했습니다!',
    '💰 유족 위로금이 지급되었습니다.',
    '💰 장례비 지원금이 들어왔습니다.',
    '💰 기본 파괴 보상금을 받았습니다.',
    '💰 실손보험금이 일부 나왔습니다!',
    '💰 긴급 구호금이 도착했습니다!',
    '💰 기초생활 지원금이 나왔습니다!'
  ],
  70: [
    '💰 보험사: "특약 적용됩니다!"',
    '💰 회사에서 퇴직금이 나왔습니다!',
    '💰 숨겨둔 비상금이 발견되었습니다!',
    '💰 유산이 발견되었습니다!',
    '💰 추가 보상금이 승인되었습니다!',
    '💰 예금자 보호 보상금 지급!',
    '💰 산재보험금이 나왔습니다!',
    '💰 생명보험금 일부가 지급되었습니다!'
  ],
  90: [
    '💎 숨겨둔 금고가 발견되었습니다!',
    '💎 로또 당첨금이 있었습니다!',
    '💎 비트코인 지갑이 발견되었습니다!',
    '💎 보험사: "플래티넘 고객이셨네요!"',
    '💎 잊고 있던 적금이 만기되었습니다!',
    '💎 주식 계좌에 배당금이 쌓여있었습니다!',
    '💎 해외 계좌가 발견되었습니다!',
    '💎 금괴가 발견되었습니다!'
  ],
  100: [
    '🌟 특별 보상금이 지급됩니다!',
    '🌟 보험왕의 축복을 받았습니다!',
    '🌟 국가유공자 보상금이 나왔습니다!',
    '🌟 전액 환급 기적이 일어났습니다!',
    '🌟 천사가 골드를 가져다줬습니다!',
    '🌟 행운의 여신이 미소지었습니다!',
    '🌟 황금 복권이 당첨되었습니다!',
    '🌟 완벽한 보상이 이루어졌습니다!'
  ],
  200: [
    '🎉🎉🎉 잭팟!!! 🎉🎉🎉',
    '🎰 슬롯머신 대박이 터졌습니다!!!',
    '💎💎 전설의 보물상자 발견!!! 💎💎',
    '🌈 무지개 끝 황금 냄비 발견!!!',
    '👼 신이 당신을 축복합니다!!!',
    '🐉 드래곤의 보물 발견!!!',
    '⭐⭐⭐ 슈퍼 잭팟!!! ⭐⭐⭐',
    '🏆 역대급 보상금 지급!!!'
  ]
};

// 공통 사망 메시지 발생 확률 (10%)
const COMMON_DEATH_CHANCE = 10;

/**
 * 직업에 맞는 랜덤 사망 메시지 가져오기
 * @param {string} jobName - 직업 이름
 * @returns {string} 사망 메시지
 */
function getDeathMessage(jobName) {
  // 10% 확률로 공통 사망 메시지
  if (Math.random() * 100 < COMMON_DEATH_CHANCE) {
    const randomIndex = Math.floor(Math.random() * COMMON_DEATH_MESSAGES.length);
    return COMMON_DEATH_MESSAGES[randomIndex];
  }

  const messages = JOB_DEATH_MESSAGES[jobName] || DEFAULT_DEATH_MESSAGES;
  const randomIndex = Math.floor(Math.random() * messages.length);
  return messages[randomIndex];
}

/**
 * 환급률에 맞는 랜덤 지원금 메시지 가져오기
 * @param {number} refundRate - 환급률 (0, 50, 70, 90, 100, 200)
 * @returns {string} 지원금 메시지
 */
function getRefundMessage(refundRate) {
  let key = 0;
  if (refundRate >= 200) key = 200;
  else if (refundRate >= 100) key = 100;
  else if (refundRate >= 90) key = 90;
  else if (refundRate >= 70) key = 70;
  else if (refundRate >= 50) key = 50;
  else key = 0;

  const messages = REFUND_MESSAGES[key];
  const randomIndex = Math.floor(Math.random() * messages.length);
  return messages[randomIndex];
}

/**
 * 전체 사망 장면 생성
 * @param {string} humanName - 인간 전체 이름
 * @param {string} jobName - 직업 이름
 * @param {number} totalSpent - 투자금
 * @param {Object} refundInfo - { refundAmount, refundRate, isJackpot }
 * @returns {string} 완성된 사망 메시지
 */
function generateDeathScene(humanName, jobName, totalSpent, refundInfo) {
  const deathMsg = getDeathMessage(jobName);
  const refundMsg = getRefundMessage(refundInfo.refundRate);

  return {
    deathMessage: deathMsg,
    refundMessage: refundMsg
  };
}

module.exports = {
  JOB_DEATH_MESSAGES,
  COMMON_DEATH_MESSAGES,
  DEFAULT_DEATH_MESSAGES,
  REFUND_MESSAGES,
  COMMON_DEATH_CHANCE,
  getDeathMessage,
  getRefundMessage,
  generateDeathScene
};
